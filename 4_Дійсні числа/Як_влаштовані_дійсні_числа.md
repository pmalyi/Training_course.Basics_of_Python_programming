## Як влаштовані дійсні числа
Як зберігати десятковий дріб у пам'яті комп'ютера? Оскільки дійсних чисел нескінченно багато 
(навіть більше, ніж натуральних), нам доведеться обмежити точність. Наприклад, ми можемо зберігати 
лише кілька перших цифр, не зберігаючи незначущі нулі. Будемо окремо зберігати ціле число з першими 
цифрами і окремо зберігати степінь числа 10, на яку потрібно помножити це число.  

Наприклад, число 5.972\*10\*\*24 (це маса Землі в кілограмах) можна зберегти
як 5972 (цифри числа, мантиса) та 24 (до якої степені потрібно піднести число 10, експонента). 
За допомогою такого представлення можна зберігати дійсні числа будь-якої розмірності.
Приблизно так і зберігаються цифри в пам'яті комп'ютера, але замість десяткової системи 
використовується двійкова. Таке представлення відповідає формату IEEE 754 (подвійна точність, 64 біти).  
На більшості апаратних систем у мові Python для зберігання float використовується 64 біти, з яких 1 біт
йде на знак, 52 біти - на мантису і 11 біт - на експоненту. 52 біти дають близько 15-16 десяткових знаків, 
які зберігатимуться точно. 11 біт на експоненту також накладає обмеження на розмірність чисел, що 
зберігаються (приблизно від -1000 до 1000 степеня числа 10).   

Будь-яке дійсне число на мові Python представимо у вигляді дробу, де в чисельнику зберігається ціле число,
а в знаменнику знаходиться якась степінь двійки. Наприклад, 0.125 представимо як 1/8, а 0.1 як 
3602879701896397/36028797018963968. Неважко помітити, що цей дріб не дорівнює 0.1, тобто зберігання 
числа 0.1 точно в типі float неможливе, як і багатьох інших "красивих" десяткових дробів.
Для того щоб перевірити у якому представленні зберігається дріб можна використати метод ***as_integer_ratio()***.
Наприклад ```0.2.as_integer_ratio()``` поверне кортеж ```(3602879701896397, 18014398509481984)```.

В цілому буде корисно уявляти собі дійсне число X як відрізок \[X - epsilon; X + epsilon\]. Як визначити 
величину epsilon? Для цього потрібно зрозуміти, що похибка не є абсолютною, тобто однаковою для всіх 
чисел, а відносною. Спрощено апаратну похибку зберігання числа X можна оцінити як X\*2\*\*(-54).
Найчастіше в завданнях вхідні дані мають певну точність. Розглянемо приклад: задані два числа X і Y з 
точністю 6 знаків після коми (означає epsilon=5\*10\*\*(-7)) і по модулю не перевищують 10\*\*9. Оцінити
абсолютну похибку обчислення X * Y. Розглянемо найгірший випадок, коли X та Y дорівнюють 10\*\*9 і 
відхилилися на максимально можливе значення epsilon в один бік. Тоді результат обчислення виглядатиме так:

(X + epsilon) * (Y + epsilon) = XY + (X + Y) * epsilon + epsilon**2

Величина epsilon**2 дуже мала, XY - це правильна відповідь, а (X + Y) * epsilon - шукане значення абсолютної
похибки. Підставимо числа та отримаємо:

2\*10\*\*9\*5\*10\*\*(-7) = 10\*\*3

Абсолютна похибка обчислення становила 1000 (одну тисячу). Що досить несподівано та неприємно.
Таким чином, стає зрозумілим, що потрібно акуратно обчислювати значення похибки для порівняння дійсних чисел.