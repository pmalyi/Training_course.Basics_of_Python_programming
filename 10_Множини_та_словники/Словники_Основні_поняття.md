## Словники в Python (`dict`). Основні поняття. 

### Вступ: Що таке словник?

**Словник (Dictionary, `dict`)** — це вбудований у Python тип даних, який зберігає дані у форматі пар 
**"ключ: значення" (`key: value`)**.

**Аналогія:** Уявіть собі звичайний тлумачний словник. Щоб знайти визначення слова, ви шукаєте саме 
**слово (ключ)**, а не номер сторінки. Знайшовши слово, ви отримуєте його **визначення (значення)**.

Словники в Python працюють за тим самим принципом:
*   **Ключ (`key`)** — це унікальний ідентифікатор для доступу до даних.
*   **Значення (`value`)** — це самі дані, які асоціюються з ключем.

На відміну від **списків**, де доступ до елементів відбувається за числовим індексом (0, 1, 2, ...), у 
словниках доступ відбувається за унікальним ключем.

### Створення словників

Є два основних способи створити словник:

**Спосіб 1: Використання фігурних дужок `{}`**
Це найпоширеніший та найзручніший спосіб.

```python
# Порожній словник
empty_dict = {}

# Словник з даними про користувача
user = {
    "username": "johndoe",
    "email": "john.doe@example.com",
    "age": 30,
    "is_active": True
}
print(user)
```
Значеннями можуть бути будь-які типи даних (числа, рядки, списки, інші словники).

**Спосіб 2: Використання конструктора `dict()`**
Цей спосіб корисний для створення словників з інших структур даних.
```python
# Створення порожнього словника
empty_dict_2 = dict()

# Створення з послідовності пар (ключ, значення)
person = dict([
    ('name', 'Alice'),
    ('city', 'Kyiv')
])
print(person)

# Більш читабельний спосіб з іменованими аргументами
car = dict(brand="Tesla", model="Model S", year=2022)
print(car)
```

### Основні властивості словників
1.  **Впорядкованість (Ordered):** **Починаючи з Python 3.7**, словники зберігають порядок, в якому були 
додані елементи. У старіших версіях Python (3.6 і раніше) словники були невпорядкованими.
2.  **Змінюваність (Mutable):** Словники можна змінювати після створення: додавати, оновлювати та видаляти 
пари "ключ-значення".
3.  **Унікальність ключів:** Усі ключі в словнику мають бути унікальними. Якщо ви спробуєте додати пару з 
ключем, який вже існує, старе значення буде **перезаписане**.

```python
d = {"a": 1, "b": 2}
d["a"] = 100 # Значення для ключа "a" буде оновлено
print(d) # Вивід: {'a': 100, 'b': 2}
```
4.  **Ключі мають бути незмінними (immutable):** Ключами можуть бути лише незмінні типи даних:
    *   **Дозволено:** рядки (`str`), числа (`int`, `float`), логічні значення (`bool`), кортежі (`tuple`).
    *   **Заборонено:** списки (`list`), інші словники (`dict`), множини (`set`).

```python
# Це працює
valid_dict = {
    "name": "Bob",
    123: "id",
    (1, 2): "coordinates"
}

# Це викличе помилку TypeError
# invalid_dict = {[1, 2]: "some_value"}
```
*Чому так?* Це пов'язано з тим, як словники працюють "під капотом" (з використанням хеш-таблиць).

### Базові операції (CRUD)

Розглянемо на прикладі словника `user`:
`user = {"username": "johndoe", "age": 30}`

#### **Доступ до елементів (Read)**

*   **Через квадратні дужки `[]`:**
```python
user = {"username": "johndoe", "age": 30}
print(user["username"]) # Вивід: johndoe
```
Якщо ключа не існує, цей спосіб викличе помилку `KeyError`.
```python
# print(user["city"]) # KeyError: 'city'
```

*   **Через метод `get()` (безпечний спосіб):**
Метод `get()` повертає значення за ключем. Якщо ключа немає, він повертає `None` (або інше значення за 
замовчуванням), не викликаючи помилки.

```python
user = {"username": "johndoe", "age": 30}
print(user.get("age"))        # Вивід: 30
print(user.get("city"))       # Вивід: None
print(user.get("city", "Невідомо")) # Вивід: Невідомо
```
**Рекомендація:** Завжди використовуйте `get()`, коли не впевнені, чи існує ключ.

#### **Додавання та зміна елементів (Create/Update)**

Синтаксис однаковий для обох операцій.

```python
user = {"username": "johndoe", "age": 30}
# Додавання нової пари
user["city"] = "New York"
print(user) # {'username': 'johndoe', 'age': 30, 'city': 'New York'}

# Оновлення існуючого значення
user["age"] = 31
print(user) # {'username': 'johndoe', 'age': 31, 'city': 'New York'}
```

#### **Видалення елементів (Delete)**

*   **Оператор `del`:** Видаляє пару за ключем.

```python
user = {"username": "johndoe", "age": 31, "city": "New York"}
del user["age"]
print(user) # {'username': 'johndoe', 'city': 'New York'}
```

*   **Метод `pop()`:** Видаляє пару за ключем і **повертає її значення**.

```python
user = {"username": "johndoe", "city": "New York"}
city = user.pop("city")
print(f"Видалене місто: {city}") # Видалене місто: New York
print(user) # {'username': 'johndoe'}
```

### Важливі методи для роботи зі словниками

*   `keys()`: Повертає об'єкт-подання (view object), що містить усі ключі словника.
*   `values()`: Повертає об'єкт-подання, що містить усі значення.
*   `items()`: Повертає об'єкт-подання, що містить усі пари `(ключ, значення)`.
*   `update(other_dict)`: Оновлює словник парами з іншого словника.
*   `clear()`: Видаляє всі елементи зі словника.

```python
car = {"brand": "Ford", "model": "Mustang"}

print(car.keys())   # dict_keys(['brand', 'model'])
print(car.values()) # dict_values(['Ford', 'Mustang'])
print(car.items())  # dict_items([('brand', 'Ford'), ('model', 'Mustang')])

# Оновлення
car_details = {"year": 1964, "color": "red"}
car.update(car_details)
print(car) # {'brand': 'Ford', 'model': 'Mustang', 'year': 1964, 'color': 'red'}
```

### Ітерація по словнику (перебір)

Найчастіше це роблять за допомогою циклу `for`.

```python
user = {"name": "Alice", "role": "admin", "id": 101}

# 1. Ітерація по ключах (стандартна поведінка)
print("--- Ключі ---")
for key in user:
    print(key)

# 2. Ітерація по значеннях
print("\n--- Значення ---")
for value in user.values():
    print(value)

# 3. Ітерація по парах "ключ-значення" (найпопулярніший спосіб)
print("\n--- Пари ключ-значення ---")
for key, value in user.items():
    print(f"{key}: {value}")
```

### Практичні випадки використання

Словники незамінні, коли потрібно працювати зі структурованими даними:

1.  **Представлення об'єктів:** Інформація про користувача, товар, налаштування програми.
    `product = {"id": 123, "name": "Laptop", "price": 1500, "tags": ["tech", "electronics"]}`
2.  **Частотний аналіз:** Підрахунок кількості входжень елементів.  
При цьому зручно використовувати метод get. Наприклад, підрахувати скільки разів входить у рядок 
кожен символ:
```python
text = "hello world"
char_counts = {}
for char in text:
    char_counts[char] = char_counts.get(char, 0) + 1
print(char_counts) # {'h': 1, 'e': 1, 'l': 3, 'o': 2, ' ': 1, 'w': 1, 'r': 1, 'd': 1}
```
3. **Для зберігання розріджених масивів.**  
Наприклад, якщо ми хочемо зберігати ціну 92, 95 та 98 бензину, то могли б створити масив із 99 елементів 
та зберігати в ньому. Але більшість елементів не потрібні - масив розріджений.
Спробуємо знайти найдешевшу вартість кожної марки бензину:
```python
gasCost = {}
n = int(input())
a92, a95, a98 = map(int, input().split())
gasCost[92] = a92
gasCost[95] = a95
gasCost[98] = a98
for i in range(n - 1):
    a92, a95, a98 = map(int, input().split())
    gasCost[92] = min(a92, gasCost[92])
    gasCost[95] = min(a95, gasCost[95])
    gasCost[98] = min(a98, gasCost[98])
print(gasCost[92], gasCost[95], gasCost[98])
```
4. **Конфігураційні дані:** Зберігання налаштувань.
`settings = {"theme": "dark", "font_size": 14, "show_sidebar": True}`
4.  **Відповідь від API:** Дані, отримані з веб-сервісів, найчастіше приходять у форматі JSON, який легко 
перетворюється на словник Python.

### Підсумок

*   **Словник (`dict`)** — це змінювана, впорядкована (з Python 3.7) колекція пар **"ключ: значення"**.
*   Ключі мають бути **унікальними** та **незмінними**.
*   Доступ до значень здійснюється за ключем: `my_dict[key]` (може викликати помилку) або `my_dict.get(key)`
(безпечний варіант).
*   Методи `.keys()`, `.values()`, `.items()` є основними інструментами для ітерації.
*   Словники ідеально підходять для роботи зі структурованими даними, де важливий швидкий пошук за 
унікальним ідентифікатором.

